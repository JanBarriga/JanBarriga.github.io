<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <title>Web de Jan</title>
    <style>
body {
    padding: 0; /* Elimina l'espai extra al voltant del cos */
}
.container-fluid {
    max-width: 100%; /* Assegura que la navbar ocupa tota l'amplada */
}   
    .navbar {
    padding-left: 0; /* Elimina el padding esquerra de la navbar */
}

.logo {
    margin-right: 20px; /* Ajustar el marge si vols separar el logo del text */
    margin-left: 0; /* Assegurar que no hi hagi marge a l'esquerra */
}
.navbar-brand {
    display: flex;
    align-items: center;
}
.brand-text {
    white-space: nowrap; /* Això assegura que el text no es trenqui en múltiples línies */
    font-size: 1.25rem; /* Ajusta la mida de la font si és necessari */
}  
.content-container {
            margin-left: 10px;
            margin-right: 10px; /* Marges laterals ajustats */
            margin-top: 20px; /* Afegeix espai superior entre el contingut i la barra de menú */
        }
    </style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
     <div class="container-fluid">
       <a class="navbar-brand d-flex align-items-center" href="#">
    <img src="/files/images/logo.png" alt="Logo" width="50" class="logo">
    <span class="brand-text">Web de Jan</span>
</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">Inici</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Tema 1</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">Projectes</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Projecte 1</a>
                        <a class="dropdown-item" href="#">Projecte 2</a>
                        <a class="dropdown-item" href="#">Projecte 3</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Tema 2</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!-- Contingut principal -->
<div class="content-container">
    <h1>Càlcul de la posició d'un robot amb 2 braços</h1>
  <!--h1 vol dir títol gran de l'anglès heading one i es fa més petit amb h2 i fins a h6que és el més petit posible-->
  <!--div és un divisor i conté en aquest cas unes quantes instruccions html que serveixen per introduir totes les dades que-->
  <!--etiquetes i campsd'entrades per a les dades del robot-->
  <label for="a1">longitud del primer braç (a1):</label>
    <!--label és una etiqueta que ens ajuda a identificar un text-->
    <input type="number" id="a1" value="2" step="0.1"><br><br>
    <!--input vol dir entrada d'informació per part de l'usuari que pot ser de molts tipus
    en aquest cas és un número, però podria ser un input type text, date o button que serian respectivament
    que només accepta que escrivim text una data o un boto respectivament,
    més exemples aqui: https://www.w3schools.com/html/html_form_input_types.asp-->
    <!--id significa identificador i és com un DNI, no es pot repetir en la mateixa pàgina i ens ajuda a manipular-lo amb
    Javascript getElementById, value significa valor per defecte que sortirà directament, step és la variabilitat
    que jo puc escriure, no puc escriure 4,32, si vulgues escriure 4,32 amb 2 decimal que hauries d'escriure?
    hauria d'escriure step="0.01"-->
    <!--br significa "break" que deixa una linea en blanc darrera, com hi ha 2 br hi hauran 2 línies en blanc-->
    <label for="a2">longitud del segon braç (a2):</label>
    <input type="number" id="a2" value="1.5" step="0.1"><br><br>
    <label for="q1">angle del primer braç (q1, en graus):</label>
    <input type="number" id="q1" value="45" step="0.1"><br><br>
    <label for="q2">angle del segon braç (q2, en graus):</label>
    <input type="number" id="q2" value="30" step="0.1"><br><br>
    <!--fins aquí els camps d'entrada de dades de l'usuari per fer el problema-->
    <!--tots els inputs són com caixes blanques d'entrada d'informació-->
    <button onclick="calculatePosition()">Calcula la posició:</button>
    <!--calcula la posició té forma de botó i quan el cliquem s'executa una funció 
    Javascript anomenada calculatedPosition() que té els parentesis buits perqué no depen de cap parametre
    o argument. Button és un tag principal com label, p per paràgraf, input per entrada i el que té al costat tots
    els tags principals són atributs com en aquest cas onclick-->
    <!--en comptes de fer un clic al botó puc fer ondblclick que obligaria a l'usuari a fer 2 clics o puc fer onmouseover
    el botó s'activa quan paso per sobre amb el ratolí i puc fer que canvii de color o una explicació de lo que fa el botó
    o tooltip o informació del que fa el botó-->
</div><!--aquest és el divisor que conté l'entrada de numeros de l'usuri i el botó calcula la posició-->
    <div id="output"></div>
    <!--l'anterior és un divisor buit que és una part de la pantalla que ara està buida que té un nom, output,
    anomenat així perqué serà on estaran tots els calculs quan apretem el botó calcula la posició-->
    <canvas id="robotCanvas" width="400" height="400"></canvas>
    <!--un canvas és una zona on hi haura un gràfic que representarà en el nostre cas els 2 braços del robot,
    en aquest cas quedarà un requadre de 400x400 buit fins que apreti calcula la posició-->
    <script>
    <!--script vol dir que canvio totalment de llenguatge de programació i deixem d escriure HTML que té els simbols
      <> i que serveix per fer estuctures estatiques que no es mouen ni són interactives amb llenguatge Javascript -->
      
<!--Id en serveix per identificar qualsevol element html i no es poden repetir en la mateixa pàgina, a vegades
necesitem fer servir class perque volem repetir les caracteristiques d'aquesta classe diverses vegades a la pàgina.
Quan escric en HTML id i vull agafar-ho des de javascript escric getElementById i quan escric en HTML class i vull 
agafar-ho amb javascript getElementByClassName. Si ho vull agafar des de CSS, es a dir que el que vull fer amb ell es 
donar-li un estil simplement he de posar en CSS si poso # seguit del nom de la clase seleccionare aquesta clase i si 
escric . seguit del nom de la id seleccionare la id. En CSS s'ha descriure sempre {propietat1:valor1; propietat2:valor2}
i davant del primer claudator he d'escriure .nomdelaid o #nomdelaclasse-->

    function  calculatePosition() {
    //agafar les dades introduides per l'usuari
        let a1 = parseFloat(document.getElementById('a1').value); //longitud primer braç
        let a2 = parseFloat(document.getElementById('a2').value); //longitud segon braç
        let q1_deg = parseFloat(document.getElementById('q1').value); //angle en graus del primer braç
        let q2_deg = parseFloat(document.getElementById('q2').value); //angle en graus del segon braç
        
            /* let ens permet crear variables locals perque estan dintre de una funció en quet cas (seria variabl global si estiguesi a principi del
            codi i afectes a tot el codi) que emmagatzzena els valors introduits per l'usuari perque a banda de fer getElementtById aplico el metode 
            .value per asegurarme que agaafo el valo escrit i aplico la funció parseFloat per convertir el valor del l'usuari en un numero decimal o 
            Floatng point number en anglès (si hages parseInt el convertiria en nombres enters).
            En aquet tros de codi de la linia 123 a la 127 hem aconseguit guardar les 4 dades geometriques del nostre robot per fer calculs de
            la seva posició en la funció de les 4 dades incluides per l'usuari*/
        
        //convertir graus a radiants per als calculs trigonometrics
        
        let q1=q1_deg * Math.PI / 180;
        let q2=q2_deg * Math.PI / 180;
        
        //aixó es lo mateix que 2PI/360
        //mostrar les fórmules per calcular la pocició del robot
        
        let output = "<div class='equation'>  les equacions per calcular le pocició final del robor son:</div>";
        output += "<div class='equation'>\\[ x = a_1 \\ cos(q_1) + a_2 \\cos(q_1 + q_2) \\] </div>";
        output += "<div class='equation'>\\[ x = a_1 \\ sin(q_1) + a_2 \\sin(q_1 + q_2) \\] </div>";
        
        /* Estic creant una variable anomenada output en Javascript que conte un element <div> o divisor HTML dintre del
        qual hi han equacions del robot en llenguatge Javascript de la bibliotece (library) mathJax3 que permet veure formules matematiques en una web.
            mathJax3 utilitza  \\ per avisar que comnça un  mathJax i te unes normes com que la _ indica subindex, si poso uns 
            ªª devant de sinus o cosinus es veu escrit com a formula */
        
        //Substituir les variables en les equacions
        
        output += "<div class='equation'>  Substituint els valors:</div>";
        output += `<div class='equation'>\\[ x = ${a1} \\cdot \\cos(${q1_deg}°) + ${a2} \\cdot \\cos(${q1_deg}° + ${q2_deg}°) \\]</div>`;
        output += `<div class='equation'>\\[ y = ${a1} \\cdot \\sin(${q1_deg}°) + ${a2} \\cdot \\sin(${q1_deg}° + ${q2_deg}°) \\]</div>`;
        // Càlculs numèrics detallats
        let x1 = a1 * Math.cos(q1); // Posició en X del primer braç
        let x2 = a2 * Math.cos(q1 + q2); // Posició en X del segon braç
        let y1 = a1 * Math.sin(q1); // Posició en Y del primer braç
        let y2 = a2 * Math.sin(q1 + q2); // Posició en Y del segon braç
        output += "<div class='equation'>Desglossant els càlculs:</div>";
        output += `<div class='equation'>\\[ x_1 = a_1 \\cos(q_1) = ${a1} \\times \\cos(${q1_deg}°) = ${x1.toFixed(2)} \\]</div>`;
        output += `<div class='equation'>\\[ x_2 = a_2 \\cos(q_1 + q_2) = ${a2} \\times \\cos(${q1_deg}° + ${q2_deg}°) = ${x2.toFixed(2)} \\]</div>`;
        output += `<div class='equation'>\\[ y_1 = a_1 \\sin(q_1) = ${a1} \\times \\sin(${q1_deg}°) = ${y1.toFixed(2)} \\]</div>`;
        output += `<div class='equation'>\\[ y_2 = a_2 \\sin(q_1 + q_2) = ${a2} \\times \\sin(${q1_deg}° + ${q2_deg}°) = ${y2.toFixed(2)} \\]</div>`;
        // Càlcul de les coordenades finals (x,y) de la mà del robot  
        let x = x1 + x2;
        let y = y1 + y2;
        output += "<div class='equation'> Calculant els resultats numèrics totals: </div>";
        output += `<div class='equation'>\\[ x = ${x.toFixed(2)} \\]</div>`;
        output += `<div class='equation'>\\[ y = ${y.toFixed(2)} \\]</div>`;
        
        /* .toFixed(2) és un metode d'arrodoniment que apliquem amb la sintaxi del punt a la lletra x i la lletra y
            que corresponen a la posició final del robot. let x = x1 + x2; emmagatzema el valor de la posició x 
            final en x i el $ seleciona el valor x i el posa 2 decimals arrodonots amb .toFixed i els \\[
            indiquen que estem escrivint un codi MathJax3 que es un derivat de Latex per escriure formules matemàtiques 
            que renderitzin bé a la pantalla. output += el que fa es sumar un elemet div anomenat output o sortida
            d'informació que al principi està buit pero quan cliquem calculate comença a sortir tot el output. Ens 
            hem d'adonar que el div output te al seu interior molts divs anomenats equation però no son "id" perquè si fosin
            "id" haurien de ser 1, i son classes*/
        
//Mosrtar el resultat
        document.getElementById('output').innerHTML = output;
        MathJax.typeset(); //Renderitzar les fórmules matemàtiques amb MathJax
        }
    //Dibuixar gràficament al robot amb els dos braços
        let canvas = document.getElementById('robotCanvas');
        /*Canvas és semblant a img que servia per introduir una imatge perquè no té els atributs o paràmetres src que 
        indica la font (source=src=nom de la imatge) o la direcció d'internet de la imatge i tampoc té el paràmetre alt,
        que s'hauria de posar en totes les imatges, per exemple, alt="aquest text nomes sortirà si no es troba la imatge
        o per persones cegues perquè entenguin la imatge". En canvi canvas només té dos atributs width i height, que son
        l'altura i l'amplada en píxels
        /*Agafa un element que s'anomena robotcanvas i ques està situat en el div buit de sota del dev buit de l'output,
        es a dir, hi ha un divisor buit HTML anomenat output on surten totes les fòrmles i un divisor buit anomenat HTML anomenat
        robotCanvas on sortirà el dibuix del robot.*/
        let ctx = canvas.getContext('2d');// el dibuix ha de ser 2D i no 3D
        ctx.clearRect(0,0,canvas.width,canvas.height);
        //Netejem el canvas abans de dibuixar
        //ctx l'hem anomenat així perque significa context de canvas en 2D
        /*Posem el punt davant de .clearRect perquè és un mètode que s'aplica 
          al context (ctx) i té 4 arguments o paràmetres els dos primers son la
          cantonada superior esquerra del rectangles, que sempre es el punt de referència
          de qualsevol dibuix i la cantonada inferior dreta son els 2 darrers números.
          Quins son els dos darrers números? Son 400 perquè son canvas.height i canvas.width.
          clearRect. significa netejar un rectangles i només necessitem dos coordenades per
          netejar-lo, la cantonada superior esquerr i la cantonada inferior dreta.*/
        
    // Definim el centre del canvas i l'escala
        
        let centerX = canvas.width / 2;
        let centerY = canvas.height / 2;
        let scale = 80; //Aixó es l'escala per dibuixar les distàncies
            
    </script>
    <p>Em dic Eric i sóc alumne de programació i robòtica de 1r de batxillerat tecnològic de <a href="https://agora.xtec.cat/ies-pompeu-fabra-martorell/">l'institut Pompeu Fabra</a></p>
    <p>A continuació veuràs un llistat amb diferents projectes que farem durant el curs:</p>
    <ul>
        <li>Codis amb JavaScript, CSS i HTML que construiran una pàgina web on l'usuari introuirà diferents dades d'un braç robòtic i el sistema ens calcularà altres dades i les representarà visualment</li>
        <!--<ul> significa lista doseordenada o unrdered list i <ol> ordered list o llista ordenada amb números i cada <li> és un element de le llista-->
        <li>Creació d'una obra d'art geomètrica interactiva que reaccioni a la meva veu a través d'un micròfon i a diferents tecles del teclat, al ratolí, que faci moviments repetitius amb sin i cos, moviments aleatoris amb random... Utilitzarem p5.js.</li>
        <li>Projecte de farmacocinètica: Us deixaré 2 llibre de farmacocinètica amb fòrmules matemàtiques i us donarè un codi inicial de 375 línies on usuari introdueix dades amb un slider com la dosis de fàrmac, la constant d'absorció i la ocnstant d'eliminació, el volum de distribució, la via d'administració (que serà un dropdown que podré trirar oral, intravenosa, transdèrmica, sublingual i inalatòria) nivell tòxic i el sistema em farà un grafic amb unes fòrmules matemàtiques que introduiré i el dibuixarà en un gràfic a temps real i em calculara moltes coses d'interès per un metge o un farmacèutic.</li>
        <li>Aliments ecològics i convencionals amb C++.</li>
        <li>Contaminació atmosfèrica d'una ciutat catalana amb R.</li> 
        <li>Aprenentatge profund o "deep learning" amb Python i amb JavaScript (farem un codi que ens reconeixerà els contorns d'una obra d'art i ens donarà un codi en p5.js).</li>
    </ul>
</div>

<!-- Scripts necessaris -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

</body>
</html>
